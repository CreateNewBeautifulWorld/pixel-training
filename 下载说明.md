# 📦 Uint8 量化神经网络 - 完整项目包

## ✅ 已打包文件

**文件名**: `uint8_neural_network.zip`  
**大小**: 86 KB  
**包含**: 11个文件

### 📋 文件清单：

```
✅ train_simple.py          8.6 KB    Python训练脚本
✅ inference_uint8.cpp      7.6 KB    C++推理引擎
✅ uint8_nn_rtl.v           8.3 KB    Verilog RTL设计
✅ train_data.txt         173.6 KB    训练数据（1000样本）
✅ weights_uint8.bin        0.9 KB    权重（二进制）
✅ weights_uint8.bin.txt    2.9 KB    权重（文本）
✅ QUICKSTART.md            6.7 KB    快速入门指南
✅ README.md                7.1 KB    详细技术文档
✅ Makefile                 0.2 KB    编译脚本
✅ 使用说明.txt             4.5 KB    中文使用说明
✅ 项目结构.md              4.9 KB    项目结构说明
───────────────────────────────────
   总计                   225.3 KB    (压缩后86KB)
```

---

## 🚀 解压后立即开始（3个命令）

```bash
# 1. 解压
unzip uint8_neural_network.zip

# 2. 编译
make

# 3. 运行
./inference_uint8
```

**预期输出**：
```
=== Uint8 量化神经网络推理引擎 ===
权重加载成功!
FC1: [16, 48]
FC2: [3, 16]

--- 单样本测试 ---
预测类别: 1

--- 测试集评估 ---
总样本数: 1000
正确数: 1000
准确率: 100%
```

---

## 📖 推荐阅读顺序

### 第1次使用（5分钟）：
1. 📄 **使用说明.txt** - 快速了解
2. 📘 **QUICKSTART.md** - 5分钟上手
3. ⚙️ 运行示例

### 深入学习（30分钟）：
1. 📗 **README.md** - 完整技术文档
2. 📊 **项目结构.md** - 理解架构
3. 💻 查看源码

### 动手修改（1小时）：
1. 🐍 修改 `train_simple.py`
2. ⚙️ 修改 `inference_uint8.cpp`
3. 🔧 研究 `uint8_nn_rtl.v`

---

## 💻 系统要求

### ✅ 最低要求（仅推理）
- **编译器**: g++ (C++11)
- **系统**: Linux / Mac / Windows
- **内存**: 1MB

### ✅ 完整功能（训练+推理）
- **Python**: 3.6+
- **库**: numpy
- **编译器**: g++ (C++11)

### ✅ RTL仿真（可选）
- **工具**: Icarus Verilog / ModelSim / Vivado

---

## 🎯 项目特色

✨ **硬件友好**: 全uint8量化，835字节权重  
✨ **轻量级**: 总代码 < 1000行  
✨ **完整流程**: Python训练 → C++推理 → RTL实现  
✨ **开箱即用**: 已包含训练好的权重  
✨ **易扩展**: 清晰的代码结构  
✨ **零依赖**: C++推理无需任何库  

---

## 🛠️ 不同平台安装

### 🐧 Linux (Ubuntu/Debian)
```bash
# 安装依赖
sudo apt-get update
sudo apt-get install g++ python3 python3-pip

# 安装numpy
pip3 install numpy

# 运行
python3 train_simple.py
make
./inference_uint8
```

### 🍎 macOS
```bash
# 安装Xcode命令行工具（包含g++）
xcode-select --install

# 安装numpy
pip3 install numpy

# 运行
python3 train_simple.py
make
./inference_uint8
```

### 🪟 Windows
```bash
# 1. 安装Python和numpy
pip install numpy

# 2. 安装MinGW（g++编译器）
# 下载: https://sourceforge.net/projects/mingw/

# 3. 添加MinGW到PATH
# 4. 运行
python train_simple.py
g++ -std=c++11 -O3 -o inference_uint8.exe inference_uint8.cpp
inference_uint8.exe
```

---

## 📊 网络架构速览

```
输入层
  ↓
[16 pixels × RGB]
  ↓
48 个 uint8
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
全连接层1: 48 → 16
权重: [16×48] = 768 bytes
偏置: [16] = 16 bytes
激活: ReLU + uint8量化
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
隐藏层
  ↓
16 个 uint8
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
全连接层2: 16 → 3
权重: [3×16] = 48 bytes
偏置: [3] = 3 bytes
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
输出层
  ↓
Argmax
  ↓
类别: 0 / 1 / 2
```

**总参数**: 768 + 16 + 48 + 3 = **835 bytes**

---

## 🔧 快速修改示例

### 示例1: 改为4个像素输入

```python
# train_simple.py (第148行左右)
model = SimpleNN(input_dim=12, hidden_dim=8, output_dim=3)
                    # 4像素×3通道=12
```

```cpp
// inference_uint8.cpp (第7-9行)
static const int INPUT_DIM = 12;
static const int HIDDEN_DIM = 8;
static const int OUTPUT_DIM = 3;
```

### 示例2: 增加隐藏层大小

```python
# train_simple.py
model = SimpleNN(input_dim=48, hidden_dim=32, output_dim=3)
```

```cpp
// inference_uint8.cpp
static const int HIDDEN_DIM = 32;
```

### 示例3: 5分类问题

```python
model = SimpleNN(input_dim=48, hidden_dim=16, output_dim=5)
```

```cpp
static const int OUTPUT_DIM = 5;
```

⚠️ **重要**: 修改后需要重新训练和编译！

---

## 📞 常见问题

### Q1: 没有Python怎么办？
**A**: 可以只用C++推理，已经包含训练好的权重文件。

### Q2: 想用PyTorch训练怎么办？
**A**: zip包里的是numpy版本。PyTorch版本需要：
```bash
pip install torch
# 然后使用 train_uint8_nn.py（需要单独下载）
```

### Q3: 如何用自己的数据？
**A**: 创建CSV文件，格式参考 `train_data.txt`:
```
pixel0_r,pixel0_g,pixel0_b,...,label
```

### Q4: C++代码可以移植到嵌入式吗？
**A**: 可以！代码没有依赖任何外部库，只用了标准C++11。

### Q5: RTL代码能直接综合吗？
**A**: 需要先加载权重到ROM，参考代码中的注释。

---

## 🎓 适用人群

✅ **学生**: 学习神经网络量化  
✅ **工程师**: 嵌入式AI开发  
✅ **研究者**: FPGA/ASIC加速器设计  
✅ **爱好者**: 理解AI硬件原理  

---

## 📚 学习资源

### 包内文档：
- `QUICKSTART.md` - 快速入门
- `README.md` - 技术细节
- `使用说明.txt` - 中文说明
- `项目结构.md` - 架构图

### 代码注释：
所有代码都有详细中英文注释

### 外部资源：
- 论文：Quantization and Training of Neural Networks
- 工具：TensorRT, FINN, Vitis AI

---

## 🌟 下一步建议

### 初学者：
1. ✅ 运行示例
2. 📖 阅读 QUICKSTART.md
3. 💻 修改网络参数重新训练

### 进阶用户：
1. 🔧 实现更复杂网络（3-5层）
2. 📊 尝试CNN架构
3. ⚡ 优化C++推理性能

### 硬件工程师：
1. 🔌 综合RTL到FPGA
2. ⚙️ 优化硬件资源
3. 📈 性能/功耗分析

---

**版本**: v1.0  
**日期**: 2025-01-16  
**许可**: MIT License  

祝你使用愉快！有问题随时问！🎉
