# ğŸ‰ æ–°å¢åŠŸèƒ½ï¼šå¯é…ç½®ç½‘ç»œ + è®­ç»ƒå¯è§†åŒ–

## âœ¨ æ–°ç‰ˆæœ¬ç‰¹æ€§

ç›¸æ¯”ä¹‹å‰çš„å›ºå®šç‰ˆæœ¬ï¼Œæ–°ç‰ˆæœ¬å¢åŠ äº†ï¼š

### 1ï¸âƒ£ **å¯é…ç½®æ·±åº¦**ï¼ˆç½‘ç»œå±‚æ•°ï¼‰
```bash
# 1å±‚éšè—å±‚ï¼ˆ2å±‚ç½‘ç»œï¼‰
python train_configurable.py --hidden_layers 16

# 2å±‚éšè—å±‚ï¼ˆ3å±‚ç½‘ç»œï¼‰
python train_configurable.py --hidden_layers 32 16

# 3å±‚éšè—å±‚ï¼ˆ4å±‚ç½‘ç»œï¼‰
python train_configurable.py --hidden_layers 64 32 16
```

### 2ï¸âƒ£ **å¯é…ç½®å®½åº¦**ï¼ˆæ¯å±‚ç¥ç»å…ƒæ•°ï¼‰
```bash
# çª„ç½‘ç»œ
python train_configurable.py --hidden_layers 8

# å®½ç½‘ç»œ
python train_configurable.py --hidden_layers 64
```

### 3ï¸âƒ£ **å¯é…ç½®è¾“å…¥**ï¼ˆåƒç´ æ•°ï¼‰
```bash
# 4ä¸ªåƒç´ ï¼ˆ12è¾“å…¥ï¼‰
python train_configurable.py --num_pixels 4

# 8ä¸ªåƒç´ ï¼ˆ24è¾“å…¥ï¼‰
python train_configurable.py --num_pixels 8

# 32ä¸ªåƒç´ ï¼ˆ96è¾“å…¥ï¼‰
python train_configurable.py --num_pixels 32
```

### 4ï¸âƒ£ **è®­ç»ƒè¿‡ç¨‹å¯è§†åŒ–**
è‡ªåŠ¨ç”Ÿæˆè®­ç»ƒæ›²çº¿å›¾ï¼š
- ğŸ“‰ Lossæ›²çº¿ï¼ˆå·¦å›¾ï¼‰
- ğŸ“ˆ Accuracyæ›²çº¿ï¼ˆå³å›¾ï¼‰

### 5ï¸âƒ£ **å‘½ä»¤è¡Œé…ç½®**
æ‰€æœ‰å‚æ•°éƒ½å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œè®¾ç½®ï¼Œæ— éœ€ä¿®æ”¹ä»£ç ï¼

---

## ğŸ“ æ–°å¢æ–‡ä»¶

```
æ–°å¢æ–‡ä»¶ï¼š
â”œâ”€â”€ train_configurable.py      â† å¯é…ç½®è®­ç»ƒè„šæœ¬
â”œâ”€â”€ CONFIG_GUIDE.md            â† é…ç½®æŒ‡å—å’Œç¤ºä¾‹
â”œâ”€â”€ COMPARISON.md              â† ä¸åŒé…ç½®å¯¹æ¯”åˆ†æ
â”œâ”€â”€ training_history.png       â† æ ‡å‡†é…ç½®è®­ç»ƒæ›²çº¿
â”œâ”€â”€ training_shallow.png       â† æµ…å±‚é…ç½®è®­ç»ƒæ›²çº¿
â””â”€â”€ training_deep.png          â† æ·±å±‚é…ç½®è®­ç»ƒæ›²çº¿

åŸæœ‰æ–‡ä»¶ä¿æŒä¸å˜ï¼š
â”œâ”€â”€ train_simple.py            â† ç®€å•å›ºå®šç‰ˆæœ¬
â”œâ”€â”€ inference_uint8.cpp        â† C++æ¨ç†å¼•æ“
â”œâ”€â”€ uint8_nn_rtl.v             â† RTLè®¾è®¡
â””â”€â”€ README.mdç­‰æ–‡æ¡£
```

---

## ğŸ†š ç‰ˆæœ¬å¯¹æ¯”

| ç‰¹æ€§ | ç®€å•ç‰ˆæœ¬ | å¯é…ç½®ç‰ˆæœ¬ |
|-----|---------|-----------|
| ç½‘ç»œç»“æ„ | å›ºå®š `48â†’16â†’3` | å®Œå…¨è‡ªå®šä¹‰ |
| è¾“å…¥å¤§å° | å›ºå®š16åƒç´  | 4-64åƒç´  |
| æ·±åº¦ | å›ºå®š2å±‚ | 1-10å±‚ |
| è®­ç»ƒå¯è§†åŒ– | âŒ | âœ… |
| å‘½ä»¤è¡Œå‚æ•° | âŒ | âœ… |
| ä»£ç å¤æ‚åº¦ | ç®€å• | ä¸­ç­‰ |
| é€‚åˆåœºæ™¯ | å¿«é€Ÿå¼€å§‹ | å®é™…åº”ç”¨ |

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ä½¿ç”¨é»˜è®¤é…ç½®
```bash
python train_configurable.py
```
ç”Ÿæˆï¼š
- `train_data.txt` - è®­ç»ƒæ•°æ®
- `weights_uint8.bin` - æƒé‡æ–‡ä»¶
- `training_history.png` - è®­ç»ƒæ›²çº¿ â­

### è‡ªå®šä¹‰é…ç½®ç¤ºä¾‹
```bash
# å°ç½‘ç»œï¼ˆçœèµ„æºï¼‰
python train_configurable.py \
    --num_pixels 4 \
    --hidden_layers 8 \
    --epochs 100

# æ·±å±‚ç½‘ç»œï¼ˆé«˜ç²¾åº¦ï¼‰
python train_configurable.py \
    --num_pixels 16 \
    --hidden_layers 32 16 8 \
    --epochs 200

# å¤§è¾“å…¥ç½‘ç»œï¼ˆå¤æ‚ä»»åŠ¡ï¼‰
python train_configurable.py \
    --num_pixels 32 \
    --hidden_layers 128 64 32 \
    --num_classes 10 \
    --epochs 300
```

---

## ğŸ“Š å®æµ‹ç»“æœå¯¹æ¯”

æˆ‘ä»¬æµ‹è¯•äº†3ç§é…ç½®ï¼š

### é…ç½®A: æµ…çª„ç½‘ç»œ
```bash
--num_pixels 4 --hidden_layers 8
```
- **ç½‘ç»œ**: `12 â†’ 8 â†’ 3`
- **å‚æ•°**: 131 bytes
- **å‡†ç¡®ç‡**: 94.5%
- **Lossæ›²çº¿**: æœ‰éœ‡è¡
- **é€‚åˆ**: æä½èµ„æºIoTè®¾å¤‡

### é…ç½®B: æ ‡å‡†ç½‘ç»œï¼ˆé»˜è®¤ï¼‰
```bash
--num_pixels 16 --hidden_layers 16
```
- **ç½‘ç»œ**: `48 â†’ 16 â†’ 3`
- **å‚æ•°**: 835 bytes
- **å‡†ç¡®ç‡**: 100%
- **Lossæ›²çº¿**: å¹³æ»‘æ”¶æ•›
- **é€‚åˆ**: ä¸€èˆ¬åµŒå…¥å¼åº”ç”¨

### é…ç½®C: æ·±å±‚ç½‘ç»œ
```bash
--num_pixels 16 --hidden_layers 32 16
```
- **ç½‘ç»œ**: `48 â†’ 32 â†’ 16 â†’ 3`
- **å‚æ•°**: 2147 bytes
- **å‡†ç¡®ç‡**: 100%
- **Lossæ›²çº¿**: éå¸¸å¹³æ»‘
- **é€‚åˆ**: å¤æ‚ä»»åŠ¡ï¼ŒFPGA

---

## ğŸ“ˆ è®­ç»ƒæ›²çº¿è§£è¯»

### å¥½çš„è®­ç»ƒæ›²çº¿ç‰¹å¾ï¼š
âœ… Lossç¨³å®šä¸‹é™  
âœ… Accuracyç¨³å®šä¸Šå‡  
âœ… æ›²çº¿å¹³æ»‘ï¼ˆæ— å‰§çƒˆéœ‡è¡ï¼‰  
âœ… æœ€ç»ˆæ”¶æ•›

### é—®é¢˜è®­ç»ƒçš„ç‰¹å¾ï¼š
âš ï¸ Losséœ‡è¡ â†’ é™ä½å­¦ä¹ ç‡æˆ–å¢åŠ å®¹é‡  
âš ï¸ Lossä¸ä¸‹é™ â†’ å¢åŠ è®­ç»ƒè½®æ•°  
âš ï¸ Accuracyä¸ä¸Šå‡ â†’ ç½‘ç»œå¤ªç®€å•ï¼Œå¢åŠ ç¥ç»å…ƒ  

---

## ğŸ¯ é€‰æ‹©å“ªä¸ªç‰ˆæœ¬ï¼Ÿ

### é€‰æ‹©ç®€å•ç‰ˆæœ¬ï¼ˆtrain_simple.pyï¼‰å¦‚æœï¼š
- âœ… ä½ åªæ˜¯æƒ³å¿«é€Ÿæµ‹è¯•
- âœ… å›ºå®šçš„48è¾“å…¥â†’16éšè—â†’3è¾“å‡ºå°±å¤Ÿç”¨
- âœ… ä¸éœ€è¦è°ƒæ•´ç½‘ç»œç»“æ„

### é€‰æ‹©å¯é…ç½®ç‰ˆæœ¬ï¼ˆtrain_configurable.pyï¼‰å¦‚æœï¼š
- âœ… éœ€è¦è‡ªå®šä¹‰ç½‘ç»œç»“æ„
- âœ… è¦æµ‹è¯•ä¸åŒé…ç½®æ‰¾æœ€ä¼˜è§£
- âœ… éœ€è¦çœ‹è®­ç»ƒè¿‡ç¨‹æ›²çº¿
- âœ… å®é™…é¡¹ç›®éƒ¨ç½²

---

## ğŸ”§ å®Œæ•´å‚æ•°åˆ—è¡¨

```bash
python train_configurable.py \
    --num_pixels 16 \          # è¾“å…¥åƒç´ æ•°
    --hidden_layers 32 16 \    # éšè—å±‚ï¼ˆå¯å¤šå±‚ï¼‰
    --num_classes 3 \          # åˆ†ç±»æ•°
    --num_samples 1000 \       # è®­ç»ƒæ ·æœ¬æ•°
    --epochs 100 \             # è®­ç»ƒè½®æ•°
    --batch_size 32 \          # æ‰¹å¤§å°
    --learning_rate 0.01 \     # å­¦ä¹ ç‡
    --data_file train.txt \    # æ•°æ®æ–‡ä»¶å
    --weight_file weights.bin \# æƒé‡æ–‡ä»¶å
    --plot_file training.png   # æ›²çº¿å›¾æ–‡ä»¶å
```

æŸ¥çœ‹æ‰€æœ‰å‚æ•°ï¼š
```bash
python train_configurable.py --help
```

---

## ğŸ’¡ å®ç”¨æŠ€å·§

### å¿«é€Ÿæ‰¾åˆ°æœ€ä¼˜é…ç½®
```bash
# æµ‹è¯•å¤šç§é…ç½®
python train_configurable.py --hidden_layers 8 --plot_file plot1.png
python train_configurable.py --hidden_layers 16 --plot_file plot2.png
python train_configurable.py --hidden_layers 32 --plot_file plot3.png
python train_configurable.py --hidden_layers 32 16 --plot_file plot4.png

# å¯¹æ¯”æ›²çº¿å›¾ï¼Œé€‰æ‹©æœ€ä¼˜çš„
```

### è°ƒæ•´å­¦ä¹ ç‡
```bash
# å¦‚æœlosséœ‡è¡å¤ªå¤§
python train_configurable.py --learning_rate 0.005

# å¦‚æœè®­ç»ƒå¤ªæ…¢
python train_configurable.py --learning_rate 0.02
```

### å¤„ç†ä¸å¹³è¡¡æ•°æ®
```bash
# å¢åŠ è®­ç»ƒæ ·æœ¬
python train_configurable.py --num_samples 5000
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- **CONFIG_GUIDE.md** - è¯¦ç»†é…ç½®æŒ‡å—å’Œç¤ºä¾‹
- **COMPARISON.md** - ä¸åŒé…ç½®çš„å¯¹æ¯”åˆ†æ
- **README.md** - é¡¹ç›®æ€»ä½“è¯´æ˜
- **QUICKSTART.md** - å¿«é€Ÿå…¥é—¨

---

## âœ… ä¸‹ä¸€æ­¥

1. **è¿è¡Œé»˜è®¤é…ç½®**çœ‹çœ‹è®­ç»ƒæ›²çº¿
   ```bash
   python train_configurable.py
   open training_history.png  # Mac
   # æˆ– eog training_history.png  # Linux
   ```

2. **æŸ¥çœ‹é…ç½®æŒ‡å—**äº†è§£æ›´å¤šé€‰é¡¹
   ```bash
   cat CONFIG_GUIDE.md
   ```

3. **å°è¯•è‡ªå®šä¹‰é…ç½®**æ‰¾åˆ°æœ€é€‚åˆä½ çš„ç½‘ç»œ

4. **ç”¨C++æ¨ç†éªŒè¯**
   ```bash
   make
   ./inference_uint8
   ```

---

## ğŸ‰ æ€»ç»“

æ–°ç‰ˆæœ¬æä¾›äº†**å®Œå…¨çš„çµæ´»æ€§**ï¼š
- ğŸšï¸ è°ƒæ•´æ·±åº¦ï¼ˆ1-10å±‚ï¼‰
- ğŸ“ è°ƒæ•´å®½åº¦ï¼ˆæ¯å±‚ç¥ç»å…ƒæ•°ï¼‰
- ğŸ¨ è°ƒæ•´è¾“å…¥ï¼ˆåƒç´ æ•°ï¼‰
- ğŸ“Š å¯è§†åŒ–è®­ç»ƒè¿‡ç¨‹
- âš™ï¸ å‘½ä»¤è¡Œé…ç½®ä¸€åˆ‡

åŒæ—¶ä¿æŒï¼š
- âœ… å…¨uint8é‡åŒ–
- âœ… C++æ¨ç†æ”¯æŒ
- âœ… RTLç¡¬ä»¶å‚è€ƒ
- âœ… ç®€å•æ˜“ç”¨

**äº«å—å®šåˆ¶ä½ çš„ç¥ç»ç½‘ç»œå§ï¼** ğŸš€
